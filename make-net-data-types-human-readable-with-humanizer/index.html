<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="使用Humanizer让.NET中的类型可读性更友好"><meta name="keywords" content=".NET,Humanizer"><meta name="author" content="Akini Xu"><meta name="copyright" content="Akini Xu"><title>使用Humanizer让.NET中的类型可读性更友好 | 嘉阅</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="manifest" href="/manifest.json"><link rel="manifest" href="/manifest.json"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?90338b924a229bc3b13945771720922c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-157143555-1', 'auto');
ga('send', 'pageview');</script><link rel="dns-prefetch" href="http://ta.qq.com"><script>(function() {
   var hm = document.createElement("script");
   hm.src = "https://tajs.qq.com/stats?sId=66513060";
   var s = document.getElementsByTagName("script")[0];
   s.parentNode.insertBefore(hm, s);
 })();</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"58VSOBFQHT","apiKey":"055694feb7a00213dd437a9331d74cfb","indexName":"iBestReadBlog","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容:${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script><meta name="generator" content="Hexo 4.2.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装"><span class="toc-number">1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用"><span class="toc-number">2.</span> <span class="toc-text">使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串更友好"><span class="toc-number">2.1.</span> <span class="toc-text">字符串更友好</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#转换字符串"><span class="toc-number">2.2.</span> <span class="toc-text">转换字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#截断字符串"><span class="toc-number">2.3.</span> <span class="toc-text">截断字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DateTime更友好"><span class="toc-number">2.4.</span> <span class="toc-text">DateTime更友好</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TimeSpan更友好"><span class="toc-number">2.5.</span> <span class="toc-text">TimeSpan更友好</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单词复数转换"><span class="toc-number">2.6.</span> <span class="toc-text">单词复数转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单词单数转换"><span class="toc-number">2.7.</span> <span class="toc-text">单词单数转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#计数文字转换"><span class="toc-number">2.8.</span> <span class="toc-text">计数文字转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#有序文本转换"><span class="toc-number">2.9.</span> <span class="toc-text">有序文本转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#大驼峰转换"><span class="toc-number">2.10.</span> <span class="toc-text">大驼峰转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#小驼峰转换"><span class="toc-number">2.11.</span> <span class="toc-text">小驼峰转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下划线分隔文本转换"><span class="toc-number">2.12.</span> <span class="toc-text">下划线分隔文本转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中划线（破折号）文本转换"><span class="toc-number">2.13.</span> <span class="toc-text">中划线（破折号）文本转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中划线全小写文本转换"><span class="toc-number">2.14.</span> <span class="toc-text">中划线全小写文本转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数字转换"><span class="toc-number">2.15.</span> <span class="toc-text">数字转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#罗马数字转换"><span class="toc-number">2.16.</span> <span class="toc-text">罗马数字转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#公制数字转换"><span class="toc-number">2.17.</span> <span class="toc-text">公制数字转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字节大小转换"><span class="toc-number">2.18.</span> <span class="toc-text">字节大小转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-number">3.</span> <span class="toc-text">总结</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://cdn.ibestread.com/img/akinix_logo.jpg"></div><div class="author-info__name text-center">Akini Xu</div><div class="author-info__description text-center">Best Read For You</div><div class="follow-button"><a href="https://github.com/akinix" target="_blank" rel="noopener">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">19</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">34</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">4</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://cdn.ibestread.com/img/top_background.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">嘉阅</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/archives">文章</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title">使用Humanizer让.NET中的类型可读性更友好</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-02-06</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">1.9k</span><span class="post-meta__separator">|</span><span>阅读时长: 8 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p><a href="https://github.com/Humanizr/Humanizer" target="_blank" rel="noopener">Humanizer</a>，是一个可以让.NET中字符串，枚举，日期，时间，数字等类型阅读起来更加友好的类库。 例如，按驼峰命名法转句子，单词单数转复数，<em>timespans</em>转换为较友好形式显示等。并且对多国语言都有支持。<em>Humanizer</em>的安装和使用都非常简单，下面会详细介绍。</p>
<a id="more"></a>
<h2 id="安装">安装</h2>
<p>可以使用<a href="https://www.nuget.org/packages/Humanizer" target="_blank" rel="noopener"><em>Nuget</em>方式安装<em>Humanizer</em></a>到项目中：</p>
<p>.NET CLI</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dotnet add package Humanizer --version 2.7.9</span><br></pre></td></tr></table></figure>
<p>Package Reference</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">"Humanizer"</span> <span class="attr">Version</span>=<span class="string">"2.7.9"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：如果你只需要支持英文，安装<code>Humanizer.Core</code>包即可。如需其它语言（中文），就需要<code>Humanizer</code>包。</p>
</blockquote>
<h2 id="使用">使用</h2>
<h3 id="字符串更友好">字符串更友好</h3>
<p><em>Humanize</em>可以把计算机文字转换成易于阅读的句子。比如，转换类名，方法名和属性等。</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"PascalCaseInputStringIsTurnedIntoSentence"</span>.Humanize() =&gt; <span class="string">"Pascal case input string is turned into sentence"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"Underscored_input_string_is_turned_into_sentence"</span>.Humanize() =&gt; <span class="string">"Underscored input string is turned into sentence"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"Underscored_input_String_is_turned_INTO_sentence"</span>.Humanize() =&gt; <span class="string">"Underscored input String is turned INTO sentence"</span></span><br></pre></td></tr></table></figure>
<p>还可以使用不同参数：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"CanReturnTitleCase"</span>.Humanize(LetterCasing.Title) =&gt; <span class="string">"Can Return Title Case"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"Can_return_title_Case"</span>.Humanize(LetterCasing.Title) =&gt; <span class="string">"Can Return Title Case"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"CanReturnLowerCase"</span>.Humanize(LetterCasing.LowerCase) =&gt; <span class="string">"can return lower case"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"CanHumanizeIntoUpperCase"</span>.Humanize(LetterCasing.AllCaps) =&gt; <span class="string">"CAN HUMANIZE INTO UPPER CASE"</span></span><br></pre></td></tr></table></figure>
<h3 id="转换字符串">转换字符串</h3>
<p>使用<code>Transform</code>方法，可以替代上面的<code>LetterCasing</code>用法：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"Sentence casing"</span>.Transform(To.LowerCase) =&gt; <span class="string">"sentence casing"</span></span><br><span class="line"><span class="string">"Sentence casing"</span>.Transform(To.SentenceCase) =&gt; <span class="string">"Sentence casing"</span></span><br><span class="line"><span class="string">"Sentence casing"</span>.Transform(To.TitleCase) =&gt; <span class="string">"Sentence Casing"</span></span><br><span class="line"><span class="string">"Sentence casing"</span>.Transform(To.UpperCase) =&gt; <span class="string">"SENTENCE CASING"</span></span><br></pre></td></tr></table></figure>
<h3 id="截断字符串">截断字符串</h3>
<p>使用<code>Truncate</code>方法方便对字符串进行截断操作：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"Long text to truncate"</span>.Truncate(<span class="number">10</span>) =&gt; <span class="string">"Long text…"</span></span><br></pre></td></tr></table></figure>
<p>截断后默认使用<code>…</code>作为后缀（注意这个后缀只占位1），如果需要自定义后缀，使用下面的方法：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"Long text to truncate"</span>.Truncate(<span class="number">10</span>, <span class="string">"---"</span>) =&gt; <span class="string">"Long te---"</span></span><br></pre></td></tr></table></figure>
<p>默认的截断策略<em>Truncator.FixedLength</em>是将输入字符串截断为指定的长度，包括后缀的长度。 另外还有两种截断器策略：</p>
<ul>
<li>固定指定数量的字符。</li>
<li>固定指定数量的单词。</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"Long text to truncate"</span>.Truncate(<span class="number">10</span>, Truncator.FixedLength) =&gt; <span class="string">"Long text…"</span></span><br><span class="line"><span class="string">"Long text to truncate"</span>.Truncate(<span class="number">10</span>, <span class="string">"---"</span>, Truncator.FixedLength) =&gt; <span class="string">"Long te---"</span></span><br><span class="line"> </span><br><span class="line"><span class="string">"Long text to truncate"</span>.Truncate(<span class="number">6</span>, Truncator.FixedNumberOfCharacters) =&gt; <span class="string">"Long t…"</span></span><br><span class="line"><span class="string">"Long text to truncate"</span>.Truncate(<span class="number">6</span>, <span class="string">"---"</span>, Truncator.FixedNumberOfCharacters) =&gt; <span class="string">"Lon---"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"Long text to truncate"</span>.Truncate(<span class="number">2</span>, Truncator.FixedNumberOfWords) =&gt; <span class="string">"Long text…"</span></span><br><span class="line"><span class="string">"Long text to truncate"</span>.Truncate(<span class="number">2</span>, <span class="string">"---"</span>, Truncator.FixedNumberOfWords) =&gt; <span class="string">"Long text---"</span></span><br></pre></td></tr></table></figure>
<h3 id="DateTime更友好">DateTime更友好</h3>
<p>可以对<em>DateTime</em>或<em>DateTimeOffset</em>的进行友好性转换，返回倒退或前进多少时间：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">DateTime.UtcNow.AddHours(<span class="number">-30</span>).Humanize() =&gt; <span class="string">"yesterday"</span></span><br><span class="line">DateTime.UtcNow.AddHours(<span class="number">-2</span>).Humanize() =&gt; <span class="string">"2 hours ago"</span></span><br><span class="line"></span><br><span class="line">DateTime.UtcNow.AddHours(<span class="number">30</span>).Humanize() =&gt; <span class="string">"tomorrow"</span></span><br><span class="line">DateTime.UtcNow.AddHours(<span class="number">2</span>).Humanize() =&gt; <span class="string">"2 hours from now"</span></span><br><span class="line"></span><br><span class="line">DateTimeOffset.UtcNow.AddHours(<span class="number">1</span>).Humanize() =&gt; <span class="string">"an hour from now"</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// 中文本地化</span></span><br><span class="line">DateTime.UtcNow.AddDays(<span class="number">-1</span>).Humanize() =&gt; <span class="string">"昨天"</span></span><br><span class="line">DateTime.UtcNow.AddDays(<span class="number">-2</span>).Humanize() =&gt; <span class="string">"2 天前"</span></span><br><span class="line">DateTime.UtcNow.AddDays(<span class="number">-3</span>).Humanize() =&gt; <span class="string">"3 天前"</span></span><br><span class="line">DateTime.UtcNow.AddDays(<span class="number">-11</span>).Humanize() =&gt; <span class="string">"11 天前"</span></span><br></pre></td></tr></table></figure>
<h3 id="TimeSpan更友好">TimeSpan更友好</h3>
<p>同样也可以对<em>TimeSpan</em>进行转换：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">TimeSpan.FromMilliseconds(<span class="number">1</span>).Humanize() =&gt; <span class="string">"1 millisecond"</span></span><br><span class="line">TimeSpan.FromMilliseconds(<span class="number">2</span>).Humanize() =&gt; <span class="string">"2 milliseconds"</span></span><br><span class="line">TimeSpan.FromDays(<span class="number">1</span>).Humanize() =&gt; <span class="string">"1 day"</span></span><br><span class="line">TimeSpan.FromDays(<span class="number">16</span>).Humanize() =&gt; <span class="string">"2 weeks"</span></span><br></pre></td></tr></table></figure>
<p>此方法默认使用的是一个单位精度（不同单位算一节），你可以指定返回多个精度：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">TimeSpan.FromDays(<span class="number">1</span>).Humanize(precision:<span class="number">2</span>) =&gt; <span class="string">"1 day"</span> <span class="comment">// no difference when there is only one unit in the provided TimeSpan</span></span><br><span class="line">TimeSpan.FromDays(<span class="number">16</span>).Humanize(<span class="number">2</span>) =&gt; <span class="string">"2 weeks, 2 days"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// the same TimeSpan value with different precision returns different results</span></span><br><span class="line">TimeSpan.FromMilliseconds(<span class="number">1299630020</span>).Humanize() =&gt; <span class="string">"2 weeks"</span></span><br><span class="line">TimeSpan.FromMilliseconds(<span class="number">1299630020</span>).Humanize(<span class="number">3</span>) =&gt; <span class="string">"2 weeks, 1 day, 1 hour"</span></span><br><span class="line">TimeSpan.FromMilliseconds(<span class="number">1299630020</span>).Humanize(<span class="number">4</span>) =&gt; <span class="string">"2 weeks, 1 day, 1 hour, 30 seconds"</span></span><br><span class="line">TimeSpan.FromMilliseconds(<span class="number">1299630020</span>).Humanize(<span class="number">5</span>) =&gt; <span class="string">"2 weeks, 1 day, 1 hour, 30 seconds, 20 milliseconds"</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// 中文本地化</span></span><br><span class="line">TimeSpan.FromDays(<span class="number">1</span>).Humanize() =&gt; <span class="string">"1 天"</span></span><br><span class="line">TimeSpan.FromDays(<span class="number">2</span>).Humanize() =&gt; <span class="string">"2 天"</span></span><br><span class="line"></span><br><span class="line">TimeSpan.FromMilliseconds(<span class="number">1299630020</span>).Humanize(<span class="number">1</span>, collectionSeparator: <span class="literal">null</span>) =&gt; <span class="string">"2 周"</span></span><br><span class="line">TimeSpan.FromMilliseconds(<span class="number">1299630020</span>).Humanize(<span class="number">2</span>, collectionSeparator: <span class="literal">null</span>) =&gt; <span class="string">"2 周 &amp; 1 天"</span></span><br><span class="line">TimeSpan.FromMilliseconds(<span class="number">1299630020</span>).Humanize(<span class="number">3</span>, collectionSeparator: <span class="literal">null</span>) =&gt; <span class="string">"2 周, 1 天 &amp; 1 小时"</span></span><br><span class="line">TimeSpan.FromMilliseconds(<span class="number">1299630020</span>).Humanize(<span class="number">4</span>, collectionSeparator: <span class="literal">null</span>) =&gt; <span class="string">"2 周, 1 天, 1 小时 &amp; 30 秒"</span></span><br></pre></td></tr></table></figure>
<h3 id="单词复数转换">单词复数转换</h3>
<p>使用<code>Pluralize</code>方法可以获取到单词的复数形式：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"Man"</span>.Pluralize() =&gt; <span class="string">"Men"</span></span><br><span class="line"><span class="string">"string"</span>.Pluralize() =&gt; <span class="string">"strings"</span></span><br></pre></td></tr></table></figure>
<p>当不确定单词是否为单数时，可以指定<code>inputIsKnownToBeSingular</code>参数：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"Men"</span>.Pluralize(inputIsKnownToBeSingular: <span class="literal">false</span>) =&gt; <span class="string">"Men"</span></span><br><span class="line"><span class="string">"Man"</span>.Pluralize(inputIsKnownToBeSingular: <span class="literal">false</span>) =&gt; <span class="string">"Men"</span></span><br><span class="line"><span class="string">"string"</span>.Pluralize(inputIsKnownToBeSingular: <span class="literal">false</span>) =&gt; <span class="string">"strings"</span></span><br></pre></td></tr></table></figure>
<h3 id="单词单数转换">单词单数转换</h3>
<p>使用<code>Singularize</code>方法可以获取到单词的单数形式，不确定是否为复数时，可以指定<code>inputIsKnownToBePlural</code>：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"Men"</span>.Singularize() =&gt; <span class="string">"Man"</span></span><br><span class="line"><span class="string">"strings"</span>.Singularize() =&gt; <span class="string">"string"</span></span><br><span class="line">  </span><br><span class="line"><span class="string">"Men"</span>.Singularize(inputIsKnownToBePlural: <span class="literal">false</span>) =&gt; <span class="string">"Man"</span></span><br><span class="line"><span class="string">"Man"</span>.Singularize(inputIsKnownToBePlural: <span class="literal">false</span>) =&gt; <span class="string">"Man"</span></span><br><span class="line"><span class="string">"strings"</span>.Singularize(inputIsKnownToBePlural: <span class="literal">false</span>) =&gt; <span class="string">"string"</span></span><br></pre></td></tr></table></figure>
<h3 id="计数文字转换">计数文字转换</h3>
<p>很多时候，需要在单数或复数单词前面添加一个数字。 例如 “ 2 requests ”，“  3 men ”。 <code>ToQuantity</code>可以实现此功能：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"case"</span>.ToQuantity(<span class="number">0</span>) =&gt; <span class="string">"0 cases"</span></span><br><span class="line"><span class="string">"case"</span>.ToQuantity(<span class="number">1</span>) =&gt; <span class="string">"1 case"</span></span><br><span class="line"><span class="string">"case"</span>.ToQuantity(<span class="number">5</span>) =&gt; <span class="string">"5 cases"</span></span><br><span class="line"><span class="string">"man"</span>.ToQuantity(<span class="number">0</span>) =&gt; <span class="string">"0 men"</span></span><br><span class="line"><span class="string">"man"</span>.ToQuantity(<span class="number">1</span>) =&gt; <span class="string">"1 man"</span></span><br><span class="line"><span class="string">"man"</span>.ToQuantity(<span class="number">2</span>) =&gt; <span class="string">"2 men"</span></span><br></pre></td></tr></table></figure>
<p><code>ToQuantity</code>会根据输入的数量，对单词的单复数形式进行自动转换：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"men"</span>.ToQuantity(<span class="number">2</span>) =&gt; <span class="string">"2 men"</span></span><br><span class="line"><span class="string">"process"</span>.ToQuantity(<span class="number">2</span>) =&gt; <span class="string">"2 processes"</span></span><br><span class="line"><span class="string">"process"</span>.ToQuantity(<span class="number">1</span>) =&gt; <span class="string">"1 process"</span></span><br><span class="line"><span class="string">"processes"</span>.ToQuantity(<span class="number">2</span>) =&gt; <span class="string">"2 processes"</span></span><br><span class="line"><span class="string">"processes"</span>.ToQuantity(<span class="number">1</span>) =&gt; <span class="string">"1 process"</span></span><br></pre></td></tr></table></figure>
<p>另外还有一个重载方法，根据不同语言文化，返回文字：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"dollar"</span>.ToQuantity(<span class="number">2</span>, <span class="string">"C0"</span>, <span class="keyword">new</span> CultureInfo(<span class="string">"en-US"</span>)) =&gt; <span class="string">"$2 dollars"</span></span><br><span class="line"><span class="string">"dollar"</span>.ToQuantity(<span class="number">2</span>, <span class="string">"C2"</span>, <span class="keyword">new</span> CultureInfo(<span class="string">"en-US"</span>)) =&gt; <span class="string">"$2.00 dollars"</span></span><br><span class="line"><span class="string">"cases"</span>.ToQuantity(<span class="number">12000</span>, <span class="string">"N0"</span>) =&gt; <span class="string">"12,000 cases"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 中文本地化 时有问题会在元后面加个s</span></span><br><span class="line"><span class="string">"元"</span>.ToQuantity(<span class="number">2</span>, <span class="string">"C0"</span>, <span class="keyword">new</span> CultureInfo(<span class="string">"zh-Hans"</span>)) =&gt; <span class="string">"￥2 元s"</span></span><br><span class="line"><span class="string">"元"</span>.ToQuantity(<span class="number">2</span>, <span class="string">"C2"</span>, <span class="keyword">new</span> CultureInfo(<span class="string">"zh-Hans"</span>)) =&gt; <span class="string">"￥2.00 元s"</span></span><br></pre></td></tr></table></figure>
<h3 id="有序文本转换">有序文本转换</h3>
<p>使用<code>Ordinalize</code>方法，可以把数字转成类似<code>1st, 2nd, 3rd, 4th</code>的文本：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>Ordinalize(<span class="keyword">new</span> CultureInfo(<span class="string">"en"</span>)) =&gt; <span class="string">"1st"</span></span><br><span class="line"><span class="number">5.</span>Ordinalize(<span class="keyword">new</span> CultureInfo(<span class="string">"en"</span>)) =&gt; <span class="string">"5th"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 中文本地化</span></span><br><span class="line"><span class="number">1.</span>Ordinalize(<span class="keyword">new</span> CultureInfo(<span class="string">"zh-Hans"</span>)) =&gt; <span class="string">"1"</span></span><br><span class="line"><span class="number">5.</span>Ordinalize(<span class="keyword">new</span> CultureInfo(<span class="string">"zh-Hans"</span>)) =&gt; <span class="string">"5"</span></span><br></pre></td></tr></table></figure>
<h3 id="大驼峰转换">大驼峰转换</h3>
<p>使用<code>Pascalize</code>可以把字符串转为大驼峰形式，并会移除下划线：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"some_title for something"</span>.Pascalize() =&gt; <span class="string">"SomeTitleForSomething"</span></span><br></pre></td></tr></table></figure>
<h3 id="小驼峰转换">小驼峰转换</h3>
<p>首字母会小写</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"some_title for something"</span>.Camelize() =&gt; <span class="string">"someTitleForSomething"</span></span><br></pre></td></tr></table></figure>
<h3 id="下划线分隔文本转换">下划线分隔文本转换</h3>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"SomeTitle"</span>.Underscore() =&gt; <span class="string">"some_title"</span></span><br></pre></td></tr></table></figure>
<h3 id="中划线（破折号）文本转换">中划线（破折号）文本转换</h3>
<p><code>Dasherize</code>和<code>Hyphenate</code>可以把以下划线分隔的文本，转换成以中划线分隔的文本：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"some_title"</span>.Dasherize() =&gt; <span class="string">"some-title"</span></span><br><span class="line"><span class="string">"some_title"</span>.Hyphenate() =&gt; <span class="string">"some-title"</span></span><br></pre></td></tr></table></figure>
<h3 id="中划线全小写文本转换">中划线全小写文本转换</h3>
<p><code>Kebaberize</code>方法可以把以驼峰命名的文本，转换成以中划线分隔的全小写文本：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="string">"SomeText"</span>.Kebaberize() =&gt; <span class="string">"some-text"</span></span><br></pre></td></tr></table></figure>
<h3 id="数字转换">数字转换</h3>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>ToWords() =&gt; <span class="string">"one"</span></span><br><span class="line"><span class="number">10.</span>ToWords() =&gt; <span class="string">"ten"</span></span><br><span class="line"><span class="number">11.</span>ToWords() =&gt; <span class="string">"eleven"</span></span><br><span class="line"><span class="number">122.</span>ToWords() =&gt; <span class="string">"one hundred and twenty-two"</span></span><br><span class="line"><span class="number">3501.</span>ToWords() =&gt; <span class="string">"three thousand five hundred and one"</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// 中文本地化</span></span><br><span class="line"><span class="number">1.</span>ToWords(GrammaticalGender.Masculine) =&gt; <span class="string">"一"</span></span><br><span class="line"><span class="number">10.</span>ToWords(GrammaticalGender.Feminine) =&gt; <span class="string">"十"</span></span><br><span class="line"><span class="number">11.</span>ToWords(GrammaticalGender.Neuter) =&gt; <span class="string">"十一"</span></span><br><span class="line"><span class="number">122.</span>ToWords(GrammaticalGender.Neuter) =&gt; <span class="string">"一百二十二"</span></span><br><span class="line"><span class="number">3501.</span>ToWords(GrammaticalGender.Neuter) =&gt; <span class="string">"三千五百零一"</span></span><br><span class="line">(<span class="number">-3</span>).ToWords(GrammaticalGender.Neuter) =&gt; <span class="string">"负 三"</span></span><br></pre></td></tr></table></figure>
<h3 id="罗马数字转换">罗马数字转换</h3>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>ToRoman() =&gt; <span class="string">"I"</span></span><br><span class="line"><span class="number">2.</span>ToRoman() =&gt; <span class="string">"II"</span></span><br><span class="line"><span class="number">3.</span>ToRoman() =&gt; <span class="string">"III"</span></span><br><span class="line"><span class="number">4.</span>ToRoman() =&gt; <span class="string">"IV"</span></span><br><span class="line"><span class="number">5.</span>ToRoman() =&gt; <span class="string">"V"</span></span><br><span class="line"><span class="number">6.</span>ToRoman() =&gt; <span class="string">"VI"</span></span><br><span class="line"><span class="number">7.</span>ToRoman() =&gt; <span class="string">"VII"</span></span><br><span class="line"><span class="number">8.</span>ToRoman() =&gt; <span class="string">"VIII"</span></span><br><span class="line"><span class="number">9.</span>ToRoman() =&gt; <span class="string">"IX"</span></span><br><span class="line"><span class="number">10.</span>ToRoman() =&gt; <span class="string">"X"</span></span><br><span class="line">  </span><br><span class="line"><span class="string">"I"</span>.FromRoman() =&gt; <span class="number">1</span></span><br><span class="line"><span class="string">"II"</span>.FromRoman() =&gt; <span class="number">2</span></span><br><span class="line"><span class="string">"III"</span>.FromRoman() =&gt; <span class="number">3</span></span><br><span class="line"><span class="string">"IV"</span>.FromRoman() =&gt; <span class="number">4</span></span><br><span class="line"><span class="string">"V"</span>.FromRoman() =&gt; <span class="number">5</span></span><br></pre></td></tr></table></figure>
<h3 id="公制数字转换">公制数字转换</h3>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>d.ToMetric() =&gt; <span class="string">"1"</span></span><br><span class="line"><span class="number">1230</span>d.ToMetric() =&gt; <span class="string">"1.23k"</span></span><br><span class="line"><span class="number">0.1</span>d.ToMetric() =&gt; <span class="string">"100m"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"1"</span>.FromMetric() =&gt; <span class="number">1</span></span><br><span class="line"><span class="string">"1.23k"</span>.FromMetric() =&gt; <span class="number">1230</span></span><br><span class="line"><span class="string">"100m"</span>.FromMetric() =&gt; <span class="number">0.1</span></span><br></pre></td></tr></table></figure>
<h3 id="字节大小转换">字节大小转换</h3>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fileSize = (<span class="number">10</span>).Kilobytes();</span><br><span class="line"></span><br><span class="line">fileSize.Bits      =&gt; <span class="number">81920</span></span><br><span class="line">fileSize.Bytes     =&gt; <span class="number">10240</span></span><br><span class="line">fileSize.Kilobytes =&gt; <span class="number">10</span></span><br><span class="line">fileSize.Megabytes =&gt; <span class="number">0.009765625</span></span><br><span class="line">fileSize.Gigabytes =&gt; <span class="number">9.53674316e-6</span></span><br><span class="line">fileSize.Terabytes =&gt; <span class="number">9.31322575e-9</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> maxFileSize = (<span class="number">10</span>).Kilobytes();</span><br><span class="line"></span><br><span class="line">maxFileSize.LargestWholeNumberSymbol;  <span class="comment">// "KB"</span></span><br><span class="line">maxFileSize.LargestWholeNumberValue;   <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line"><span class="number">7.B</span>its().ToString();           <span class="comment">// 7 b</span></span><br><span class="line"><span class="number">8.B</span>its().ToString();           <span class="comment">// 1 B</span></span><br><span class="line">(<span class="number">.5</span>).Kilobytes().Humanize();   <span class="comment">// 512 B</span></span><br><span class="line">(<span class="number">1000</span>).Kilobytes().ToString(); <span class="comment">// 1000 KB</span></span><br><span class="line">(<span class="number">1024</span>).Kilobytes().Humanize(); <span class="comment">// 1 MB</span></span><br><span class="line">(<span class="number">.5</span>).Gigabytes().Humanize();   <span class="comment">// 512 MB</span></span><br><span class="line">(<span class="number">1024</span>).Gigabytes().ToString(); <span class="comment">// 1 TB</span></span><br></pre></td></tr></table></figure>
<p>还可以选择用<code>b</code>，<code>B</code>，<code>KB</code>，<code>MB</code>，<code>GB</code>，<code>TB</code>格式化显示。另外使用<code>#.##</code>作为默认格式，四舍五入数字到小数点后两位：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> b = (<span class="number">10.505</span>).Kilobytes();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Default number format is #.##</span></span><br><span class="line">b.ToString(<span class="string">"KB"</span>);         <span class="comment">// 10.52 KB</span></span><br><span class="line">b.Humanize(<span class="string">"MB"</span>);         <span class="comment">// .01 MB</span></span><br><span class="line">b.Humanize(<span class="string">"b"</span>);          <span class="comment">// 86057 b</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Default symbol is the largest metric prefix value &gt;= 1</span></span><br><span class="line">b.ToString(<span class="string">"#.#"</span>);        <span class="comment">// 10.5 KB</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// All valid values of double.ToString(string format) are acceptable</span></span><br><span class="line">b.ToString(<span class="string">"0.0000"</span>);     <span class="comment">// 10.5050 KB</span></span><br><span class="line">b.Humanize(<span class="string">"000.00"</span>);     <span class="comment">// 010.51 KB</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// You can include number format and symbols</span></span><br><span class="line">b.ToString(<span class="string">"#.#### MB"</span>);  <span class="comment">// .0103 MB</span></span><br><span class="line">b.Humanize(<span class="string">"0.00 GB"</span>);    <span class="comment">// 0 GB</span></span><br><span class="line">b.Humanize(<span class="string">"#.## B"</span>);     <span class="comment">// 10757.12 B</span></span><br></pre></td></tr></table></figure>
<h2 id="总结">总结</h2>
<p>使用<em>Humanize</em>，可以让你的应用程序UI显示更加人性化的同时，提高你的开发效率。本文中只介绍了<em>Humanize</em>中的一部分功能，更多功能请访问<a href="https://github.com/Humanizr/Humanizer" target="_blank" rel="noopener">Humanizer</a>。</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Akini Xu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://blog.ibestread.com/make-net-data-types-human-readable-with-humanizer/">https://blog.ibestread.com/make-net-data-types-human-readable-with-humanizer/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.ibestread.com">嘉阅</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/NET/">.NET</a><a class="post-meta__tags" href="/tags/Humanizer/">Humanizer</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="https://cdn.ibestread.com/img/ali_pay_code.jpg"><div class="post-qr-code__desc">支付宝打赏</div></div><div class="post-qr-code-item"><img class="post-qr-code__img" src="https://cdn.ibestread.com/img/tencent_pay_code.jpg"><div class="post-qr-code__desc">微信打赏</div></div></div><div class="addthis_inline_share_toolbox pull-right"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e2ecc1ad505208a" async></script><nav id="pagination"><div class="prev-post pull-left"><a href="/ihostingenvironment-vs-ihost-environment-obsolete-types-in-net-core-3/"><i class="fa fa-chevron-left">  </i><span>对比IHostingEnvironment与IHostEnvironment .NET及Core 3.0中的过时类型</span></a></div><div class="next-post pull-right"><a href="/converting-a-netstandard-2-library-to-netcore-3/"><span>转换.NET Standard 2.0类库到.NET Core 3.0</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '627199878458c320fb74',
  clientSecret: '6e48bd6ac85dffc40aa34fa8cffd72b96517a294',
  repo: 'iBestRead.github.io',
  owner: 'iBestRead',
  admin: 'akinix',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(https://cdn.ibestread.com/img/top_background.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2020 By Akini Xu</div><div class="footer_custom_text"><a href="http://www.beianbeian.com/beianxinxi/305c139fe2263063db72af4e473d63d7.html" target="_blank" rel="noopener">粤ICP备17015620号</a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/search/algolia.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).bottom&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script></body></html>